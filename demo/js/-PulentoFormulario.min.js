function crearAjax(){var e;return e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}function PulentoFormulario(e){this.nombre=e}PulentoFormulario.campoObligatorio=function(e,t,n){return valor=document.getElementsByName(e)[0].value,null==valor||0==valor.length||/^\s+$/.test(valor)?(document.getElementById(t).innerHTML=n,document.getElementsByName(e)[0].classList.add("pulentoError"),!1):(document.getElementById(t).innerHTML="",document.getElementsByName(e)[0].classList.remove("pulentoError"),!0)},PulentoFormulario.campoNumerico=function(e,t,n){return valor=document.getElementsByName(e)[0].value,isNaN(valor)||0==valor.length||/^\s+$/.test(valor)?(document.getElementById(t).innerHTML=n,document.getElementsByName(e)[0].classList.add("pulentoError"),!1):(document.getElementById(t).innerHTML="",document.getElementsByName(e)[0].classList.remove("pulentoError"),!0)},PulentoFormulario.campoEmail=function(e,t,n){return expr=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,valor=document.getElementsByName(e)[0].value,!expr.test(valor)||0==valor.length||/^\s+$/.test(valor)?(document.getElementById(t).innerHTML=n,document.getElementsByName(e)[0].classList.add("pulentoError"),!1):(document.getElementById(t).innerHTML="",document.getElementsByName(e)[0].classList.remove("pulentoError"),!0)},PulentoFormulario.campoSoloTexto=function(e,t,n){return expr=/^[a-zA-Z]/,valor=document.getElementsByName(e)[0].value,expr.test(valor)?(document.getElementById(t).innerHTML="",document.getElementsByName(e)[0].classList.remove("pulentoError"),!0):(document.getElementById(t).innerHTML=n,document.getElementsByName(e)[0].classList.add("pulentoError"),!1)},PulentoFormulario.rutCL=function(e,t,n){for(var o=0,r=Array(3,2,7,6,5,4,3,2),a=document.getElementsByName(e)[0],l=a.value.split("."),m="",u=0;u<l.length;u++)m+=l[u];a=m;for(var u=0;u<=a.length-3;u++){var s=10-a.length+u;o+=r[s]*a.substr(u,1)}var d;d=11-o%11==10?"K":11-o%11==11?0:11-o%11;var c=a.substr(a.length-1,1).toUpperCase();return c!=d||0==c.length||/^\s+$/.test(c)?(document.getElementById(t).innerHTML=n,document.getElementsByName(e)[0].classList.add("pulentoError"),!1):(document.getElementById(t).innerHTML="",document.getElementsByName(e)[0].classList.remove("pulentoError"),!0)},PulentoFormulario.telefonoCL=function(e,t,n){valor=document.getElementsByName(e)[0].value;var o=!1;return/^\+\d{3}\s\d{8}$/.test(valor)?o=!0:/^\+\d{11}$/.test(valor)&&(o=!0),o?(document.getElementById(t).innerHTML="",document.getElementsByName(e)[0].classList.remove("pulentoError"),!0):(document.getElementById(t).innerHTML=n,document.getElementsByName(e)[0].classList.add("pulentoError"),!1)},PulentoFormulario.campoFecha=function(e,t,n){return valor=document.getElementsByName(e)[0].value,/^\d{2}\-\d{2}\-\d{4}$/.test(valor)?(document.getElementById(t).innerHTML="",document.getElementsByName(e)[0].classList.remove("pulentoError"),!0):(document.getElementById(t).innerHTML=n,document.getElementsByName(e)[0].classList.add("pulentoError"),!1)},PulentoFormulario.lista=function(e,t,n){return valor=document.getElementsByName(e)[0].value,null==valor||0==valor?(document.getElementById(t).innerHTML=n,document.getElementsByName(e)[0].classList.add("pulentoError"),!1):(document.getElementById(t).innerHTML="",document.getElementsByName(e)[0].classList.remove("pulentoError"),!0)},PulentoFormulario.checkbox=function(e,t,n){return checkbox=document.getElementsByName(e)[0],checkbox.checked?(document.getElementById(t).innerHTML="",document.getElementsByName(e)[0].classList.remove("pulentoError"),!0):(document.getElementById(t).innerHTML=n,document.getElementsByName(e)[0].classList.add("pulentoError"),!1)},PulentoFormulario.radioButton=function(e,t,n){opciones=document.getElementsByName(e);for(var o=!1,r=0;r<opciones.length;r++)if(opciones[r].checked){o=!0;break}return o?(document.getElementById(t).innerHTML="",document.getElementsByName(e)[0].classList.remove("pulentoError"),!0):(document.getElementById(t).innerHTML=n,document.getElementsByName(e)[0].classList.add("pulentoError"),!1)},PulentoFormulario.soloValidar=function(e,t,n){var o;document.getElementById(t).addEventListener("click",function(e){e.preventDefault(),o=!0;for(var r=0;r<n.length;r++){var a=n[r].tipo,l=n[r].nameCampo,m=n[r].idMuestraError;PulentoFormulario[a](l,m)||(o=!1)}return o&&(document.getElementById(t).disabled=!0),o})},PulentoFormulario.validar=function(e,t,n){var o;o=!0;for(var r=0;r<n.length;r++){var a=n[r].tipo,l=n[r].nameCampo,m=n[r].idMuestraError,u=n[r].mensajeError;PulentoFormulario[a](l,m,u)||(o=!1)}return o&&(document.getElementById(t).disabled=!0),o},PulentoFormulario.enviarPOST=function(e,t,n,o){var r=document.forms[e].elements,a="";"radio"==r[0].type?r[0].checked&&(a+=r[0].name+"="+r[0].value):a+=r[0].name+"="+r[0].value;for(var l=1;l<r.length;l++)"radio"==r[l].type?r[l].checked&&(a+="&"+r[l].name+"="+r[l].value):a+="&"+r[l].name+"="+r[l].value;ajax=crearAjax(),ajax.onreadystatechange=function(){4==ajax.readyState&&200==ajax.status&&(respuesta=ajax.responseText,"OK"==respuesta.toUpperCase()?void 0!=n&&n():void 0!=o&&o())},ajax.open("POST",t,!0),ajax.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),ajax.send(a)},PulentoFormulario.enviarGET=function(e,t,n,o){var r="",a=!1,l=document.forms[e].elements,m="";"radio"==l[0].type?l[0].checked&&(m+=l[0].name+"="+l[0].value):m+=l[0].name+"="+l[0].value;for(var u=1;u<l.length;u++)"radio"==l[u].type?l[u].checked&&(m+="&"+l[u].name+"="+l[u].value):m+="&"+l[u].name+"="+l[u].value;ajax=crearAjax(),ajax.onreadystatechange=function(){4==ajax.readyState&&200==ajax.status&&(r=ajax.responseText,"OK"==r.toUpperCase()?(void 0!=n&&n(),a=!0):void 0!=o&&o())},ajax.open("GET",t+"?"+m,!0),ajax.send()},PulentoFormulario.validarEnviar=function(e,t,n,o,r,a,l,m){var u,s="enviar"+r;document.getElementById(t).addEventListener("click",function(d){d.preventDefault(),u=!1,PulentoFormulario.validar(e,t,n)&&(u=!0,void 0!=o&&void 0!=r&&PulentoFormulario[s](e,a,l,m))})};